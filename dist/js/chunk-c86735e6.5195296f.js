(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c86735e6"],{"20b9":function(t,e,r){t.exports=r.p+"img/sports.60c1adfc.jpg"},"28aa":function(t,e,r){t.exports=r.p+"img/women.4f67a54a.jpg"},"31ec":function(t,e,r){t.exports=r.p+"img/baby.d13a28cf.jpg"},"4f7f":function(t,e,r){"use strict";var i=r("c26b"),n=r("b39a"),o="Set";t.exports=r("e0b8")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(n(this,o),t=0===t?0:t,t)}},i)},"5df3":function(t,e,r){"use strict";var i=r("02f4")(!0);r("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})}))},"636d":function(t,e,r){},"67ab":function(t,e,r){var i=r("ca5a")("meta"),n=r("d3f4"),o=r("69a8"),s=r("86cc").f,a=0,c=Object.isExtensible||function(){return!0},u=!r("79e5")((function(){return c(Object.preventExtensions({}))})),d=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},l=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!e)return"E";d(t)}return t[i].i},p=function(t,e){if(!o(t,i)){if(!c(t))return!0;if(!e)return!1;d(t)}return t[i].w},f=function(t){return u&&g.NEED&&c(t)&&!o(t,i)&&d(t),t},g=t.exports={KEY:i,NEED:!1,fastKey:l,getWeak:p,onFreeze:f}},"71f3":function(t,e,r){t.exports=r.p+"img/search.0869a680.jpg"},"7e5b":function(t,e,r){t.exports=r.p+"img/kids.31b1e610.jpg"},a318:function(t,e,r){"use strict";var i=r("636d"),n=r.n(i);n.a},ad79:function(t,e,r){var i={"./categorypic/baby.jpg":"31ec","./categorypic/kids.jpg":"7e5b","./categorypic/men.jpg":"b7b2","./categorypic/search.jpg":"71f3","./categorypic/sports.jpg":"20b9","./categorypic/women.jpg":"28aa"};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=o,t.exports=n,n.id="ad79"},b39a:function(t,e,r){var i=r("d3f4");t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b7b2:function(t,e,r){t.exports=r.p+"img/men.b9259075.jpg"},c26b:function(t,e,r){"use strict";var i=r("86cc").f,n=r("2aeb"),o=r("dcbc"),s=r("9b43"),a=r("f605"),c=r("4a59"),u=r("01f9"),d=r("d53b"),l=r("7a56"),p=r("9e1e"),f=r("67ab").fastKey,g=r("b39a"),h=p?"_s":"size",v=function(t,e){var r,i=f(e);if("F"!==i)return t._i[i];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,u){var d=t((function(t,i){a(t,d,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[h]=0,void 0!=i&&c(i,r,t[u],t)}));return o(d.prototype,{clear:function(){for(var t=g(this,e),r=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];t._f=t._l=void 0,t[h]=0},delete:function(t){var r=g(this,e),i=v(r,t);if(i){var n=i.n,o=i.p;delete r._i[i.i],i.r=!0,o&&(o.n=n),n&&(n.p=o),r._f==i&&(r._f=n),r._l==i&&(r._l=o),r[h]--}return!!i},forEach:function(t){g(this,e);var r,i=s(t,arguments.length>1?arguments[1]:void 0,3);while(r=r?r.n:this._f){i(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function(t){return!!v(g(this,e),t)}}),p&&i(d.prototype,"size",{get:function(){return g(this,e)[h]}}),d},def:function(t,e,r){var i,n,o=v(t,e);return o?o.v=r:(t._l=o={i:n=f(e,!0),k:e,v:r,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[h]++,"F"!==n&&(t._i[n]=o)),t},getEntry:v,setStrong:function(t,e,r){u(t,e,(function(t,r){this._t=g(t,e),this._k=r,this._l=void 0}),(function(){var t=this,e=t._k,r=t._l;while(r&&r.r)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?d(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(t._t=void 0,d(1))}),r?"entries":"values",!r,!0),l(e)}}},d17f:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("div",{staticClass:"row"},[i("div",{staticClass:"sidebar-sticky col-md-2 col-sm-12 col-xs-12 make-me-sticky accordion mousePointer",attrs:{id:"sidebar"}},[t._l(t.getTypeItem,(function(e,r){return i("div",{key:e.id,staticClass:"col-md-12 col-sm-4 col-xs-4 mb-2 hideobj"},[i("div",{staticClass:"collapsed",attrs:{"data-toggle":"collapse","data-target":"#"+e.id,"aria-expanded":"true","aria-controls":e.id}},[i("i",{staticClass:"fas fa-tshirt text-light300 px-1"}),i("span",{staticClass:"text-muted"},[t._v(t._s(e.type))])]),i("ul",{staticClass:"nav flex-column collapse",attrs:{id:e.id,"aria-labelledby":"headingOne","data-parent":"#sidebar"}},t._l(t.getSeriesItem,(function(r,n){return i("li",{key:r.id,staticClass:"nav-item col-lg-12 seriesStyle"},[r.type==e.type?i("a",{staticClass:"ml-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getSeries(r.series)}}},[t._v("\n                            "+t._s(r.series)+"\n                        ")]):t._e()])})),0)])})),i("div",{staticClass:"container mb-3 hideobj-md showobj"},[i("select",{staticClass:"custom-select",attrs:{id:"inputGroupSelect01"}},t._l(t.getTypeItem,(function(e,r){return i("optgroup",{key:e.id+"-sm",attrs:{value:"${itemt.id}-sm"}},[i("option",{attrs:{disabled:""}},[t._v(t._s(e.type))]),t._l(t.getSeriesItem,(function(r,n){return r.type==e.type?i("option",{key:r.id+"-sm",attrs:{value:"items"}},[i("a",{attrs:{href:"#"}},[t._v(t._s(r.series))])]):t._e()}))],2)})),0)])],2),i("div",{staticClass:"col-md-10 col-sm-12 px-3 ml-auto"},[i("div",{staticClass:"card mr-auto",staticStyle:{"margin-bottom":"30px"}},[i("img",{staticClass:"card-img-top",attrs:{src:r("ad79")("./categorypic"+t.productCategoryImage+".jpg"),alt:"..."}})]),"/search"==t.productCategoryImage?i("div",{staticClass:"h4",staticStyle:{"margin-bottom":"30px"}},[t._v("\n                搜尋結果：\n                "),0==t.productShowArrayLength?i("span",[t._v("無此商品")]):t._e()]):t._e(),i("div",{staticClass:"row"},[t._l(t.products,(function(e){return i("div",{staticClass:"col-lg-3 col-md-6 col-sm-6",staticStyle:{"margin-bottom":"30px"}},[i("div",{staticClass:"card shadow-sm border-2"},[i("div",{staticClass:"image-rwd mousePointer",style:{backgroundImage:"url("+e.imageUrl+")"},on:{click:function(r){return t.goProductDetail(e)}}}),i("div",{staticClass:"card-body"},[i("div",{staticClass:"text-dark text-center mousePointer",staticStyle:{height:"42px"},on:{click:function(r){return t.goProductDetail(e)}}},[e.stock<5?i("span",{staticClass:"badge badge-pill ml-2 text-white bg-danger"},[t._v("熱銷")]):t._e(),t._v("\n                                "+t._s(e.title))]),i("div",{staticClass:"text-center mb-2"},[e.price?t._e():i("div",{staticClass:"d-inline"},[t._v(t._s(t._f("currency")(e.origin_price)))]),e.price?i("del",{staticClass:"d-inline"},[t._v(t._s(t._f("currency")(e.origin_price)))]):t._e(),e.price?i("div",{staticClass:"d-inline ml-2",class:{"text-danger":e.origin_price}},[t._v("NT"+t._s(t._f("currency")(e.price)))]):t._e()]),i("div",{staticClass:"text-center"},[0!=e.stock?i("button",{staticClass:"btn btn-outline-danger btn-sm col-6",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),t.addCartToLS(e)}}},[t.status.cartId==e.id?i("i",{staticClass:"fas fa-spinner fa-pulse"}):t._e(),t.status.cartId!=e.id?i("i",{staticClass:"fas fa-cart-plus"}):t._e()]):t._e(),0==e.stock?i("button",{staticClass:"btn btn-outline-danger btn-sm col-6",attrs:{type:"button"}},[t._v("\n                                    已售完\n                                ")]):t._e()])])])])})),t.productShow.status?i("div",{staticClass:"col-md-12 text-center text-lativbg"},[i("i",{staticClass:"fas fa-chevron-down fa-2x arrow-animate"})]):t._e()],2)])])],1)},n=[],o=(r("ac6a"),r("5df3"),r("4f7f"),r("28a5"),r("96cf"),r("3b8d")),s=r("1157"),a=r.n(s),c={components:{},data:function(){return{products:[],productsOriginal:[],productCategory:"",productSeries:{status:"",value:""},productCategoryImage:"",productShow:{count:4,status:!0},productShowArrayLength:"",categoryName:"women,men,kids,baby,sports",isLoading:!1,status:{loading:!1,cartId:""},cartArrayToLS:[]}},methods:{getProducts:function(t,e){var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("joseph_work01","/products/all"),i=this,n=[],o=[];i.isLoading=!0,this.$http.get(r).then((function(r){if(console.log("getProducts",r.data),i.isLoading=!1,n=r.data.products,-1!=i.categoryName.indexOf(t)){var s=n.filter((function(e){return e.category==t&&1===e.is_enabled}));i.productsOriginal=Object.assign([],s),console.log("AAA",i.productsOriginal.length),o="series"==i.productSeries.status?s.filter((function(t){return t.series==e})):s}else o=n.filter((function(e){return(-1!=e.title.indexOf(t)||-1!=e.type.indexOf(t)||-1!=e.series.indexOf(t))&&1===e.is_enabled}));i.productShowArrayLength=o.length,i.productShowArrayLength<=i.productShow.count&&(i.productShow.status=!1),i.products=o.splice(0,i.productShow.count)}))},goProductDetail:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=this,this.loading=!0,r.$router.push("/product-detail/".concat(e.id)),this.loading=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getSeries:function(t){this.productSeries.status="series",this.productSeries.value=t,this.productShow.count=4,this.productShow.status=!0;var e=this.productCategory.split("/category/").join("");this.getProducts(e,t),console.log("***",this.productCategory),console.log(e,t)},addCartToLS:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this;localStorage.getItem("Cart")&&(r.cartArrayToLS=JSON.parse(localStorage.getItem("Cart")));var i=!0,n=Math.floor(Date.now()),o={product:t,qty:e,timestamp:n};r.cartArrayToLS.filter((function(e){if(console.log("element",e,"element.id",e.product.id,"item",t.id),e.product.id==t.id)return i=!1})),console.log("hadProduct",i),i?(r.cartArrayToLS.push(o),localStorage.setItem("Cart",JSON.stringify(r.cartArrayToLS)),r.$bus.$emit("getCartLS:push"),r.$bus.$emit("cartStatus:push",r.cartArrayToLS),r.$bus.$emit("message:push","已加入購物車","success"),i=!1,r.status.cartId=""):(r.$bus.$emit("message:push","購物車內已有此商品","warning"),r.status.cartId="")},scrollToLoading:function(){var t=this,e=a()(window).scrollTop(),r=(a()("body").height(),a()(window).height(),a()("body").height()-a()(window).height());if(t.productShowArrayLength<t.productShow.count)console.log("stop add count");else if(e+50>r){t.productShow.count=t.productShow.count+4;var i="";-1!=t.productCategory.indexOf("/search")?(console.log("scrollToLoadingValue",i,t.productCategory),i=t.productCategory.split("/search/").join("")):i=t.productCategory.split("/category/").join(""),"series"==t.productSeries.status?t.getProducts(i,t.productSeries.value):t.getProducts(i)}},debounce:function(t,e){var r=null;return function(){var i=this,n=arguments;clearTimeout(r),r=setTimeout((function(){t.apply(i,n)}),e)}}},watch:{},computed:{getTypeItem:function(){var t=this,e=new Set,r=t.productsOriginal.filter((function(t){if(t.type)return!e.has(t.type)&&e.add(t.type)}));return r},getSeriesItem:function(){var t=this,e=new Set,r=t.productsOriginal.filter((function(t){if(t.series)return!e.has(t.series)&&e.add(t.series)}));return r}},created:function(){var t=this,e="",r=t.$router.history.current.path;-1!=r.indexOf("/search")?(t.productCategory=r,t.productCategoryImage="/search",e=r.split("/search/").join("")):(t.productCategory=r,t.productCategoryImage=r.split("/category").join(""),e=r.split("/category/").join("")),t.getProducts(e),console.log("created-getProducts",e),window.addEventListener("scroll",t.debounce(t.scrollToLoading,300))},mounted:function(){var t=this;a()("#inputGroupSelect01").change((function(){var e=a()("select option:selected").children("a").contents()[0].nodeValue;t.getSeries(e)}))},beforeDestroy:function(){}},u=c,d=(r("a318"),r("2877")),l=Object(d["a"])(u,i,n,!1,null,"21cbda05",null);e["default"]=l.exports},e0b8:function(t,e,r){"use strict";var i=r("7726"),n=r("5ca1"),o=r("2aba"),s=r("dcbc"),a=r("67ab"),c=r("4a59"),u=r("f605"),d=r("d3f4"),l=r("79e5"),p=r("5cc5"),f=r("7f20"),g=r("5dbc");t.exports=function(t,e,r,h,v,m){var y=i[t],_=y,b=v?"set":"add",w=_&&_.prototype,S={},C=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(m&&!d(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!d(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof _&&(m||w.forEach&&!l((function(){(new _).entries().next()})))){var x=new _,k=x[b](m?{}:-0,1)!=x,j=l((function(){x.has(1)})),L=p((function(t){new _(t)})),O=!m&&l((function(){var t=new _,e=5;while(e--)t[b](e,e);return!t.has(-0)}));L||(_=e((function(e,r){u(e,_,t);var i=g(new y,e,_);return void 0!=r&&c(r,v,i[b],i),i})),_.prototype=w,w.constructor=_),(j||O)&&(C("delete"),C("has"),v&&C("get")),(O||k)&&C(b),m&&w.clear&&delete w.clear}else _=h.getConstructor(e,t,v,b),s(_.prototype,r),a.NEED=!0;return f(_,t),S[t]=_,n(n.G+n.W+n.F*(_!=y),S),m||h.setStrong(_,t,v),_}}}]);
//# sourceMappingURL=chunk-c86735e6.5195296f.js.map
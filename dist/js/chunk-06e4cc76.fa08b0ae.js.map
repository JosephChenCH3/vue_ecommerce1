{"version":3,"sources":["webpack:///./src/views/userpages/Order.vue?a4d7","webpack:///src/views/userpages/Order.vue","webpack:///./src/views/userpages/Order.vue?67d4","webpack:///./src/views/userpages/Order.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","carts","total","staticClass","_v","_e","_m","_l","item","key","id","_s","product","title","qty","_f","price","preventDefault","removeCartItem","status","itemId","final_total","staticStyle","directives","name","rawName","value","expression","domProps","Array","isArray","coupon_is_enabled","_i","_q","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","composing","coupon","openModalGetCouponCode","loading","ref","creatOrder","scopedSlots","_u","fn","errors","form","user","$set","payment_method","staticRenderFns","console","log","response","data","success","vm","component","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAIO,WAAWC,GAAG,CAAC,gBAAgB,SAASC,GAAQT,EAAIO,UAAUE,MAA+B,GAAnBT,EAAIU,MAAMC,MAAYP,EAAG,MAAM,CAACQ,YAAY,2BAA2B,CAACR,EAAG,MAAM,CAACQ,YAAY,kBAAkB,CAACZ,EAAIa,GAAG,gBAAgBT,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,MAAM,CAACN,EAAIa,GAAG,WAAW,GAAGb,EAAIc,KAAyB,GAAnBd,EAAIU,MAAMC,MAAYP,EAAG,MAAM,CAACQ,YAAY,2BAA2B,CAACR,EAAG,MAAM,CAACQ,YAAY,2BAA2B,CAACZ,EAAIe,GAAG,GAAGX,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACR,EAAG,QAAQ,CAACQ,YAAY,SAAS,CAACZ,EAAIe,GAAG,GAAGX,EAAG,QAAQ,CAACJ,EAAIgB,GAAIhB,EAAIU,MAAW,OAAE,SAASO,GAAM,OAAOb,EAAG,KAAK,CAACc,IAAID,EAAKE,IAAI,CAACf,EAAG,KAAK,CAACQ,YAAY,gBAAgB,CAACZ,EAAIa,GAAG,yCAAyCb,EAAIoB,GAAGH,EAAKI,QAAQC,OAAO,0CAA2CL,EAAW,OAAEb,EAAG,MAAM,CAACQ,YAAY,gBAAgB,CAACZ,EAAIa,GAAG,YAAYb,EAAIc,OAAOV,EAAG,KAAK,CAACQ,YAAY,gBAAgB,CAACZ,EAAIa,GAAGb,EAAIoB,GAAGH,EAAKM,KAAK,UAAUnB,EAAG,KAAK,CAACQ,YAAY,gBAAgB,CAACZ,EAAIa,GAAGb,EAAIoB,GAAGpB,EAAIwB,GAAG,WAAPxB,CAAmBiB,EAAKI,QAAQI,WAAWrB,EAAG,KAAK,CAACQ,YAAY,gBAAgB,CAACZ,EAAIa,GAAGb,EAAIoB,GAAGpB,EAAIwB,GAAG,WAAPxB,CAAmBiB,EAAKI,QAAQI,MAAQR,EAAKM,SAASnB,EAAG,KAAK,CAACQ,YAAY,gBAAgB,CAACR,EAAG,SAAS,CAACQ,YAAY,yBAAyBJ,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOiB,iBAAwB1B,EAAI2B,eAAeV,MAAS,CAAEjB,EAAI4B,OAAOC,SAAWZ,EAAKE,GAAIf,EAAG,IAAI,CAACQ,YAAY,qBAAqBZ,EAAIc,KAAMd,EAAI4B,OAAOC,SAAWZ,EAAKE,GAAIf,EAAG,IAAI,CAACQ,YAAY,4BAA4BZ,EAAIc,cAAaV,EAAG,KAAK,CAACQ,YAAY,2BAA2B,CAACR,EAAG,KAAK,CAACQ,YAAY,eAAeN,MAAM,CAAC,QAAU,MAAM,CAACF,EAAG,KAAK,CAACJ,EAAIa,GAAG,MAAMb,EAAIoB,GAAGpB,EAAIwB,GAAG,WAAPxB,CAAmBA,EAAIU,MAAMC,QAAQ,WAAYX,EAAIU,MAAMC,QAAUX,EAAIU,MAAMoB,YAAa1B,EAAG,KAAK,CAACQ,YAAY,2BAA2B,CAACR,EAAG,KAAK,CAACQ,YAAY,eAAeN,MAAM,CAAC,QAAU,MAAM,CAACF,EAAG,KAAK,CAACJ,EAAIa,GAAG,OAAOb,EAAIoB,GAAGpB,EAAIwB,GAAG,WAAPxB,CAAmBA,EAAIU,MAAMoB,cAAc,WAAW9B,EAAIc,MAAM,KAAKV,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACR,EAAG,MAAM,CAACQ,YAAY,4BAA4B,CAACR,EAAG,MAAM,CAACQ,YAAY,eAAemB,YAAY,CAAC,cAAc,SAAS,CAAC/B,EAAIa,GAAG,aAAaT,EAAG,MAAM,CAACQ,YAAY,gCAAgC,CAACR,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAqB,kBAAEoC,WAAW,sBAAsBxB,YAAY,oCAAoCN,MAAM,CAAC,KAAO,WAAW,GAAK,aAAa,aAAa,EAAE,cAAc,GAAG+B,SAAS,CAAC,QAAUC,MAAMC,QAAQvC,EAAIwC,mBAAmBxC,EAAIyC,GAAGzC,EAAIwC,kBAAkB,OAAO,EAAExC,EAAI0C,GAAG1C,EAAIwC,kBAAkB,IAAIhC,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIkC,EAAI3C,EAAIwC,kBAAkBI,EAAKnC,EAAOoC,OAAOC,EAAIF,EAAKG,QAAQ,EAAI,EAAI,GAAGT,MAAMC,QAAQI,GAAK,CAAC,IAAIK,EAAI,KAAKC,EAAIjD,EAAIyC,GAAGE,EAAIK,GAAQJ,EAAKG,QAASE,EAAI,IAAIjD,EAAIwC,kBAAkBG,EAAIO,OAAO,CAACF,KAAYC,GAAK,IAAIjD,EAAIwC,kBAAkBG,EAAIQ,MAAM,EAAEF,GAAKC,OAAOP,EAAIQ,MAAMF,EAAI,UAAWjD,EAAIwC,kBAAkBM,MAAS1C,EAAG,QAAQ,CAACQ,YAAY,uBAAuBN,MAAM,CAAC,IAAM,sBAAuBN,EAAqB,kBAAEI,EAAG,MAAM,CAACQ,YAAY,2BAA2B,CAACR,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAU,OAAEoC,WAAW,WAAWxB,YAAY,eAAeN,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU,aAAa,GAAG,mBAAmB,iBAAiB+B,SAAS,CAAC,MAASrC,EAAU,QAAGQ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOoC,OAAOO,YAAqBpD,EAAIqD,OAAO5C,EAAOoC,OAAOV,WAAU/B,EAAG,MAAM,CAACQ,YAAY,sBAAsB,CAACR,EAAG,SAAS,CAACQ,YAAY,4BAA4BN,MAAM,CAAC,KAAO,SAAS,GAAK,iBAAiBE,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOiB,iBAAwB1B,EAAIsD,uBAAuB7C,MAAW,CAAwB,iBAAtBT,EAAI4B,OAAO2B,QAA4BnD,EAAG,IAAI,CAACQ,YAAY,4BAA4BZ,EAAIc,KAAKd,EAAIa,GAAG,oEAAoEb,EAAIc,WAAWd,EAAIc,KAAyB,GAAnBd,EAAIU,MAAMC,MAAYP,EAAG,MAAM,CAACQ,YAAY,2BAA2B,CAACR,EAAG,MAAM,CAACQ,YAAY,oCAAoC,CAACZ,EAAIe,GAAG,GAAGX,EAAG,qBAAqB,CAACoD,IAAI,YAAY,CAACpD,EAAG,OAAO,CAACQ,YAAY,sBAAsBJ,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOiB,iBAAwB1B,EAAIyD,WAAWhD,MAAW,CAACL,EAAG,qBAAqB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,kBAAkBoD,YAAY1D,EAAI2D,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASJ,GAChwI,IAAIK,EAASL,EAAIK,OACjB,OAAOzD,EAAG,MAAM,GAAG,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,cAAc,CAACN,EAAIa,GAAG,WAAWT,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAI8D,KAAKC,KAAU,MAAE3B,WAAW,oBAAoBxB,YAAY,eAAeN,MAAM,CAAC,GAAK,YAAY,YAAc,SAAS+B,SAAS,CAAC,MAASrC,EAAI8D,KAAKC,KAAU,OAAGvD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOoC,OAAOO,WAAqBpD,EAAIgE,KAAKhE,EAAI8D,KAAKC,KAAM,QAAStD,EAAOoC,OAAOV,WAAW/B,EAAG,IAAI,CAACQ,YAAY,eAAe,CAACZ,EAAIa,GAAGb,EAAIoB,GAAGyC,EAAO,YAAY,MAAK,EAAM,aAAazD,EAAG,qBAAqB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,YAAYoD,YAAY1D,EAAI2D,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASJ,GAChoB,IAAIK,EAASL,EAAIK,OACjB,OAAOzD,EAAG,MAAM,GAAG,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,aAAa,CAACN,EAAIa,GAAG,WAAWT,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAI8D,KAAKC,KAAS,KAAE3B,WAAW,mBAAmBxB,YAAY,eAAeN,MAAM,CAAC,GAAK,WAAW,YAAc,SAAS+B,SAAS,CAAC,MAASrC,EAAI8D,KAAKC,KAAS,MAAGvD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOoC,OAAOO,WAAqBpD,EAAIgE,KAAKhE,EAAI8D,KAAKC,KAAM,OAAQtD,EAAOoC,OAAOV,WAAW/B,EAAG,IAAI,CAACQ,YAAY,eAAe,CAACZ,EAAIa,GAAGb,EAAIoB,GAAGyC,EAAO,YAAY,MAAK,EAAM,cAAczD,EAAG,qBAAqB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,YAAYoD,YAAY1D,EAAI2D,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASJ,GAC3nB,IAAIK,EAASL,EAAIK,OACjB,OAAOzD,EAAG,MAAM,GAAG,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,YAAY,CAACN,EAAIa,GAAG,WAAWT,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAI8D,KAAKC,KAAQ,IAAE3B,WAAW,kBAAkBxB,YAAY,eAAeN,MAAM,CAAC,GAAK,UAAU,YAAc,SAAS+B,SAAS,CAAC,MAASrC,EAAI8D,KAAKC,KAAQ,KAAGvD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOoC,OAAOO,WAAqBpD,EAAIgE,KAAKhE,EAAI8D,KAAKC,KAAM,MAAOtD,EAAOoC,OAAOV,WAAW/B,EAAG,IAAI,CAACQ,YAAY,eAAe,CAACZ,EAAIa,GAAGb,EAAIoB,GAAGyC,EAAO,YAAY,MAAK,EAAM,aAAazD,EAAG,qBAAqB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,YAAYoD,YAAY1D,EAAI2D,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASJ,GACpnB,IAAIK,EAASL,EAAIK,OACjB,OAAOzD,EAAG,MAAM,GAAG,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,gBAAgB,CAACN,EAAIa,GAAG,WAAWT,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAI8D,KAAKC,KAAY,QAAE3B,WAAW,sBAAsBxB,YAAY,eAAeN,MAAM,CAAC,GAAK,cAAc,YAAc,SAAS+B,SAAS,CAAC,MAASrC,EAAI8D,KAAKC,KAAY,SAAGvD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOoC,OAAOO,WAAqBpD,EAAIgE,KAAKhE,EAAI8D,KAAKC,KAAM,UAAWtD,EAAOoC,OAAOV,WAAW/B,EAAG,IAAI,CAACQ,YAAY,eAAe,CAACZ,EAAIa,GAAGb,EAAIoB,GAAGyC,EAAO,YAAY,MAAK,EAAM,aAAazD,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACR,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAM,YAAY,CAACN,EAAIa,GAAG,QAAQT,EAAG,WAAW,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAI8D,KAAY,QAAE1B,WAAW,iBAAiBxB,YAAY,eAAeN,MAAM,CAAC,KAAO,GAAG,GAAK,UAAU,KAAO,KAAK,KAAO,MAAM+B,SAAS,CAAC,MAASrC,EAAI8D,KAAY,SAAGtD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOoC,OAAOO,WAAqBpD,EAAIgE,KAAKhE,EAAI8D,KAAM,UAAWrD,EAAOoC,OAAOV,aAAa/B,EAAG,MAAMA,EAAG,qBAAqB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,YAAYoD,YAAY1D,EAAI2D,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASJ,GACplC,IAAIK,EAASL,EAAIK,OACjB,OAAOzD,EAAG,MAAM,GAAG,CAACA,EAAG,MAAM,CAACJ,EAAIa,GAAG,UAAUT,EAAG,MAAM,CAACQ,YAAY,qDAAqD,CAACR,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAI8D,KAAKC,KAAmB,eAAE3B,WAAW,6BAA6BxB,YAAY,uBAAuBN,MAAM,CAAC,KAAO,QAAQ,GAAK,SAAS,MAAQ,MAAM+B,SAAS,CAAC,QAAUrC,EAAI0C,GAAG1C,EAAI8D,KAAKC,KAAKE,eAAe,OAAOzD,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOT,EAAIgE,KAAKhE,EAAI8D,KAAKC,KAAM,iBAAkB,UAAU3D,EAAG,QAAQ,CAACQ,YAAY,oCAAoCN,MAAM,CAAC,IAAM,WAAW,CAACN,EAAIa,GAAG,UAAUT,EAAG,MAAM,CAACQ,YAAY,qDAAqD,CAACR,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAI8D,KAAKC,KAAmB,eAAE3B,WAAW,6BAA6BxB,YAAY,uBAAuBN,MAAM,CAAC,KAAO,QAAQ,GAAK,SAAS,MAAQ,QAAQ+B,SAAS,CAAC,QAAUrC,EAAI0C,GAAG1C,EAAI8D,KAAKC,KAAKE,eAAe,SAASzD,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOT,EAAIgE,KAAKhE,EAAI8D,KAAKC,KAAM,iBAAkB,YAAY3D,EAAG,QAAQ,CAACQ,YAAY,oCAAoCN,MAAM,CAAC,IAAM,WAAW,CAACN,EAAIa,GAAG,YAAYT,EAAG,MAAM,CAACQ,YAAY,qDAAqD,CAACR,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnC,EAAI8D,KAAKC,KAAmB,eAAE3B,WAAW,6BAA6BxB,YAAY,uBAAuBN,MAAM,CAAC,KAAO,QAAQ,GAAK,SAAS,MAAQ,QAAQ+B,SAAS,CAAC,QAAUrC,EAAI0C,GAAG1C,EAAI8D,KAAKC,KAAKE,eAAe,SAASzD,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOT,EAAIgE,KAAKhE,EAAI8D,KAAKC,KAAM,iBAAkB,YAAY3D,EAAG,QAAQ,CAACQ,YAAY,oCAAoCN,MAAM,CAAC,IAAM,WAAW,CAACN,EAAIa,GAAG,YAAYT,EAAG,IAAI,CAACQ,YAAY,gBAAgB,CAACZ,EAAIa,GAAG,aAAab,EAAIoB,GAAGpB,EAAI8D,KAAKC,KAAKE,gBAAgB,OAAO7D,EAAG,IAAI,CAACQ,YAAY,eAAe,CAACZ,EAAIa,GAAGb,EAAIoB,GAAGyC,EAAO,YAAY,MAAK,EAAM,cAAczD,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACR,EAAG,SAAS,CAACQ,YAAY,kBAAkB,CAAwB,gBAAtBZ,EAAI4B,OAAO2B,QAA2BnD,EAAG,IAAI,CAACQ,YAAY,4BAA4BZ,EAAIc,KAAKd,EAAIa,GAAG,qEAAqE,MAAM,KAAKb,EAAIc,MAAM,IAC5nEoD,EAAkB,CAAC,WAAa,IAAIlE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACQ,YAAY,OAAOmB,YAAY,CAAC,OAAS,OAAO,kBAAkB,QAAQ,sBAAsB,WAAW,CAAC3B,EAAG,KAAK,CAACQ,YAAY,yBAAyB,CAACZ,EAAIa,GAAG,aAAa,WAAa,IAAIb,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIa,GAAG,QAAQT,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACN,EAAIa,GAAG,QAAQT,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACN,EAAIa,GAAG,QAAQT,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACN,EAAIa,GAAG,QAAQT,EAAG,KAAK,CAACE,MAAM,CAAC,MAAQ,WAAW,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACQ,YAAY,OAAOmB,YAAY,CAAC,OAAS,OAAO,kBAAkB,QAAQ,sBAAsB,WAAW,CAAC3B,EAAG,KAAK,CAACQ,YAAY,yBAAyB,CAACZ,EAAIa,GAAG,e,oEC2Jz0B,GACE,WAAF,CACI,mBAAJ,OACI,mBAAJ,QAEE,KALF,WAMI,MAAJ,CACM,WAAN,EACM,OAAN,CACQ,OAAR,GACQ,OAAR,GACQ,QAAR,IAEM,MAAN,GACM,mBAAN,EACM,eAAN,EACM,OAAN,GACM,kBAAN,GACM,KAAN,CACQ,KAAR,CACU,KAAV,GACU,MAAV,GACU,IAAV,GACU,QAAV,GACU,eAAV,IAEQ,QAAR,GACQ,cAAR,IAEM,KACN,CACQ,SAAR,0BACQ,SAAR,gBAIE,QAAF,CACI,QADJ,WAEM,IAAN,2FACA,OACM,EAAN,aACM,KAAN,+BACQ,QAAR,2BACQ,EAAR,kBACQ,EAAR,iBAGI,eAXJ,SAWA,GAAM,IAAN,OACA,OACA,sGACA,OACM,EAAN,mBACM,KAAN,kCACQ,QAAR,cACA,eACU,EAAV,iGAEU,EAAV,mDAEQ,EAAR,UACQ,EAAR,qBAGI,kBA3BJ,WA2BM,IAAN,OACA,OACM,EAAN,aACM,EAAN,iCACQ,IAAR,OACA,sGACQ,EAAR,kCACU,QAAV,YACA,eACY,QAAZ,gBAEY,QAAZ,iBAEU,EAAV,oBAII,cA5CJ,WA4CM,IAAN,OACA,6FACA,OACA,GACQ,KAAR,UAEM,EAAN,+BACM,KAAN,cAAQ,KAAR,sBACQ,QAAR,oBACA,eAGU,EAAV,oDAFU,EAAV,mDAIQ,EAAR,UACQ,EAAR,sBAGI,WA9DJ,0KA+DA,EA/DA,UA+DA,sCA/DA,gBA+DA,gBA/DA,UAgEA,OACA,SACA,gCAlEA,SAmEA,+BAnEA,OAmEA,EAnEA,OAoEA,EAKA,2CACoBsD,QAAQC,IAAI,OAAQC,GAChBA,EAASC,KAAKC,SAChB,EAAtB,cAEsB,EAAtB,sDAEsB,EAAtB,mDAGoBC,EAAG5C,OAAO2B,QAAU,OAdxC,gDACA,qBAtEA,wGAuFI,YAvFJ,WAwFM,IAAN,OAEA,KACA,mEACM,EAAN,aAEM,KAAN,uCACQ,QAAR,YACA,gBACU,QAAV,YACU,EAAV,iCACY,IAAZ,oHAEY,EAAZ,+BACc,GAAd,gBACgB,QAAhB,yBAEgB,EAAhB,eACgB,EAAhB,4BACgB,QAAhB,oCACgB,IAAhB,0HAEgB,EAAhB,aAAkB,KAAlB,sBACkB,QAAlB,yBACA,gBACoB,QAApB,eACoB,EAApB,eAEoB,QAApB,eACoB,EAApB,sBAIgB,QAAhB,gBACgB,EAAhB,qBAKU,QAAV,iCACU,EAAV,mBAKE,QAzKF,WA0KI,KAAJ,WAEE,cA5KF,aA+KE,iBA/KF,SA+KA,OACI,GAAJ,oBACM,SACN,yBACM,QACN,CACM,IAAN,oCACA,GACQ,KAAR,oBACQ,KAEA,GAAR,MChW8V,I,YCO1VkB,EAAY,eACd,EACA1E,EACAmE,GACA,EACA,KACA,WACA,MAIa,aAAAO,E,gCClBf,IAAIC,EAAK,EAAQ,QAAgBC,EAC7BC,EAASC,SAASC,UAClBC,EAAS,wBACTC,EAAO,OAGXA,KAAQJ,GAAU,EAAQ,SAAqBF,EAAGE,EAAQI,EAAM,CAC9DC,cAAc,EACdC,IAAK,WACH,IACE,OAAQ,GAAKjF,MAAMkF,MAAMJ,GAAQ,GACjC,MAAOK,GACP,MAAO","file":"js/chunk-06e4cc76.fa08b0ae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(_vm.carts.total == 0)?_c('div',{staticClass:\"my-5 container col-lg-6\"},[_c('div',{staticClass:\"h5 text-danger\"},[_vm._v(\"購物清單中無任何商品\")]),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"返回首頁\")])],1):_vm._e(),(_vm.carts.total != 0)?_c('div',{staticClass:\"my-5 container col-lg-6\"},[_c('div',{staticClass:\"card border-0 shadow-sm\"},[_vm._m(0),_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table\"},[_vm._m(1),_c('tbody',[_vm._l((_vm.carts.carts),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(\"\\n                                    \"+_vm._s(item.product.title)+\"\\n                                    \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\"已套用優惠券\")]):_vm._e()]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\" / 件\")]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price)))]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.product.price * item.qty)))]),_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-danger\",on:{\"click\":function($event){$event.preventDefault();return _vm.removeCartItem(item)}}},[(_vm.status.itemId !== item.id)?_c('i',{staticClass:\"far fa-trash-alt\"}):_vm._e(),(_vm.status.itemId === item.id)?_c('i',{staticClass:\"fas fa-spinner fa-pulse\"}):_vm._e()])])])}),_c('tr',{staticClass:\"text-primary text-right\"},[_c('td',{staticClass:\"align-middle\",attrs:{\"colspan\":\"4\"}},[_c('h5',[_vm._v(\"總計：\"+_vm._s(_vm._f(\"currency\")(_vm.carts.total))+\"元\")])])]),(_vm.carts.total !== _vm.carts.final_total)?_c('tr',{staticClass:\"text-success text-right\"},[_c('td',{staticClass:\"align-middle\",attrs:{\"colspan\":\"4\"}},[_c('h5',[_vm._v(\"折扣價：\"+_vm._s(_vm._f(\"currency\")(_vm.carts.final_total))+\"元\")])])]):_vm._e()],2)]),_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"row col-12  align-middle\"},[_c('div',{staticClass:\"align-middle\",staticStyle:{\"line-height\":\"24px\"}},[_vm._v(\"使用優惠代碼：\")]),_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_is_enabled),expression:\"coupon_is_enabled\"}],staticClass:\"custom-control-input align-middle\",attrs:{\"type\":\"checkbox\",\"id\":\"is_enabled\",\"true-value\":1,\"false-value\":0},domProps:{\"checked\":Array.isArray(_vm.coupon_is_enabled)?_vm._i(_vm.coupon_is_enabled,null)>-1:_vm._q(_vm.coupon_is_enabled,1)},on:{\"change\":function($event){var $$a=_vm.coupon_is_enabled,$$el=$event.target,$$c=$$el.checked?(1):(0);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.coupon_is_enabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.coupon_is_enabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.coupon_is_enabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"is_enabled\"}})])])]),(_vm.coupon_is_enabled)?_c('div',{staticClass:\"input-group mb-3 col-12\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon),expression:\"coupon\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠代碼\",\"aria-label\":\"\",\"aria-describedby\":\"button-addon2\"},domProps:{\"value\":(_vm.coupon)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"id\":\"button-addon2\"},on:{\"click\":function($event){$event.preventDefault();return _vm.openModalGetCouponCode($event)}}},[(_vm.status.loading == 'couponLoading')?_c('i',{staticClass:\"fas fa-spinner fa-pulse\"}):_vm._e(),_vm._v(\"\\n                            套用\\n                        \")])])]):_vm._e()])])]):_vm._e(),(_vm.carts.total != 0)?_c('div',{staticClass:\"my-5 container col-lg-6\"},[_c('div',{staticClass:\"card border-0 shadow-sm bg-light\"},[_vm._m(2),_c('ValidationObserver',{ref:\"observer\"},[_c('form',{staticClass:\"mt-5 pb-3 col-md-12\",on:{\"submit\":function($event){$event.preventDefault();return _vm.creatOrder($event)}}},[_c('ValidationProvider',{attrs:{\"name\":\"email\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn _c('div',{},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",attrs:{\"id\":\"useremail\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])])}}],null,false,539037173)}),_c('ValidationProvider',{attrs:{\"name\":\"收件人姓名\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn _c('div',{},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"收件人姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"username\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])])}}],null,false,2740298333)}),_c('ValidationProvider',{attrs:{\"name\":\"收件人電話\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn _c('div',{},[_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"收件人電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",attrs:{\"id\":\"usertel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])])}}],null,false,958225405)}),_c('ValidationProvider',{attrs:{\"name\":\"收件人地址\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn _c('div',{},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件人地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"}],staticClass:\"form-control\",attrs:{\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])])}}],null,false,291362301)}),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"\",\"id\":\"comment\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('hr'),_c('ValidationProvider',{attrs:{\"name\":\"付款方式\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn _c('div',{},[_c('div',[_vm._v(\"付款方式\")]),_c('div',{staticClass:\"custom-control custom-radio custom-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.payment_method),expression:\"form.user.payment_method\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"radio\",\"id\":\"radio1\",\"value\":\"刷卡\"},domProps:{\"checked\":_vm._q(_vm.form.user.payment_method,\"刷卡\")},on:{\"change\":function($event){return _vm.$set(_vm.form.user, \"payment_method\", \"刷卡\")}}}),_c('label',{staticClass:\"custom-control-label align-middle\",attrs:{\"for\":\"radio1\"}},[_vm._v(\"刷卡\")])]),_c('div',{staticClass:\"custom-control custom-radio custom-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.payment_method),expression:\"form.user.payment_method\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"radio\",\"id\":\"radio2\",\"value\":\"超商取貨\"},domProps:{\"checked\":_vm._q(_vm.form.user.payment_method,\"超商取貨\")},on:{\"change\":function($event){return _vm.$set(_vm.form.user, \"payment_method\", \"超商取貨\")}}}),_c('label',{staticClass:\"custom-control-label align-middle\",attrs:{\"for\":\"radio2\"}},[_vm._v(\"超商取貨\")])]),_c('div',{staticClass:\"custom-control custom-radio custom-control-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.payment_method),expression:\"form.user.payment_method\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"radio\",\"id\":\"radio3\",\"value\":\"貨到付款\"},domProps:{\"checked\":_vm._q(_vm.form.user.payment_method,\"貨到付款\")},on:{\"change\":function($event){return _vm.$set(_vm.form.user, \"payment_method\", \"貨到付款\")}}}),_c('label',{staticClass:\"custom-control-label align-middle\",attrs:{\"for\":\"radio3\"}},[_vm._v(\"貨到付款\")])]),_c('p',{staticClass:\"text-success\"},[_vm._v(\"您選擇的付款方式： \"+_vm._s(_vm.form.user.payment_method)+\" \")]),_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])])}}],null,false,3208626540)}),_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-danger\"},[(_vm.status.loading == 'orderLoading')?_c('i',{staticClass:\"fas fa-spinner fa-pulse\"}):_vm._e(),_vm._v(\"\\n                            送出訂單\\n                        \")])])],1)])],1)]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pt-3\",staticStyle:{\"height\":\"25px\",\"background-size\":\"cover\",\"background-position\":\"center\"}},[_c('h5',{staticClass:\"text-dark text-center\"},[_vm._v(\"購物清單\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('td',[_vm._v(\"品名\")]),_c('td',{attrs:{\"width\":\"70\"}},[_vm._v(\"數量\")]),_c('td',{attrs:{\"width\":\"80\"}},[_vm._v(\"單價\")]),_c('td',{attrs:{\"width\":\"80\"}},[_vm._v(\"小計\")]),_c('td',{attrs:{\"width\":\"50\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pt-3\",staticStyle:{\"height\":\"25px\",\"background-size\":\"cover\",\"background-position\":\"center\"}},[_c('h5',{staticClass:\"text-dark text-center\"},[_vm._v(\"訂購人資訊\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <loading :active.sync=\"isLoading\"></loading>\r\n        <div class=\"my-5 container col-lg-6\" v-if=\"carts.total == 0\">\r\n            <div class=\"h5 text-danger\">購物清單中無任何商品</div>\r\n            <router-link to=\"/\">返回首頁</router-link> \r\n        </div>\r\n        <div class=\"my-5 container col-lg-6\" v-if=\"carts.total != 0\">\r\n            <div class=\"card border-0 shadow-sm\">\r\n                <div class=\"pt-3\" style=\"height: 25px; background-size: cover; background-position: center\">\r\n                    <h5 class=\"text-dark text-center\">購物清單</h5>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <table class=\"table\">\r\n                        <thead>\r\n                            <td>品名</td>\r\n                            <td width=\"70\">數量</td>\r\n                            <td width=\"80\">單價</td>\r\n                            <td width=\"80\">小計</td>\r\n                            <td width=\"50\"></td>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr v-for=\"item in carts.carts\" :key=\"item.id\">\r\n                                <td class=\"align-middle\">\r\n                                    {{ item.product.title }}\r\n                                    <div class=\"text-success\" v-if=\"item.coupon\">已套用優惠券</div>\r\n                                </td>\r\n                                <td class=\"align-middle\">{{ item.qty }} / 件</td>\r\n                                <td class=\"align-middle\">{{ item.product.price | currency }}</td>\r\n                                <td class=\"align-middle\">{{ item.product.price * item.qty | currency }}</td>\r\n                                <td class=\"align-middle\">\r\n                                    <button @click.prevent=\"removeCartItem(item)\" class=\"btn btn-outline-danger\">\r\n                                        <i v-if=\"status.itemId !== item.id\" class=\"far fa-trash-alt\"></i>\r\n                                        <i v-if=\"status.itemId === item.id\" class=\"fas fa-spinner fa-pulse\"></i>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class=\"text-primary text-right\">\r\n                                <td colspan=\"4\" class=\"align-middle\">\r\n                                    <h5>總計：{{ carts.total | currency }}元</h5>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class=\"text-success text-right\" v-if=\"carts.total !== carts.final_total\">\r\n                                <td colspan=\"4\" class=\"align-middle\">\r\n                                    <h5>折扣價：{{ carts.final_total | currency }}元</h5>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n<!--                     <button class=\"btn btn-sm col-md-12 btn-lativbg\" type=\"button\" @click.prevent=\"openModalGetCouponCode\">\r\n                        <i class=\"fas fa-spinner fa-pulse text-danger\" v-if=\"status.loading == 'couponLoading'\"></i>\r\n                        <i class=\"fas fa-gift text-danger\"></i>\r\n                        <span class=\"text-danger\">~好禮抽抽樂，最低75折~</span>\r\n                    </button> -->\r\n\r\n                <div class=\"form-group\">\r\n                    <div class=\"row col-12  align-middle\">\r\n                        <div class=\"align-middle\" style=\"line-height: 24px\">使用優惠代碼：</div>\r\n                        <div class=\"custom-control custom-switch\">\r\n                            <input class=\"custom-control-input align-middle\" type=\"checkbox\" id=\"is_enabled\" :true-value=\"1\" :false-value=\"0\" v-model=\"coupon_is_enabled\">\r\n                            <label class=\"custom-control-label\" for=\"is_enabled\"></label>\r\n                        </div>\r\n                    </div> \r\n                </div>\r\n\r\n                <div class=\"input-group mb-3 col-12\" v-if=\"coupon_is_enabled\">\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠代碼\" aria-label=\"\" aria-describedby=\"button-addon2\" v-model=\"coupon\">\r\n                    <div class=\"input-group-append\">\r\n                        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" @click.prevent=\"openModalGetCouponCode\">\r\n                            <i class=\"fas fa-spinner fa-pulse\" v-if=\"status.loading == 'couponLoading'\"></i>\r\n                            套用\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"my-5 container col-lg-6\" v-if=\"carts.total != 0\">\r\n            <div class=\"card border-0 shadow-sm bg-light\">\r\n                <div class=\"pt-3\" style=\"height: 25px; background-size: cover; background-position: center\">\r\n                    <h5 class=\"text-dark text-center\">訂購人資訊</h5>\r\n                </div>\r\n\r\n                <!-- vee-validate -->\r\n                <ValidationObserver ref=\"observer\">\r\n                <!-- vee-validate -->\r\n\r\n                <form class=\"mt-5 pb-3 col-md-12\" @submit.prevent=\"creatOrder\">\r\n\r\n                    <!-- vee-validate -->\r\n                    <ValidationProvider name=\"email\" rules=\"required|email\">\r\n                        <div slot-scope=\"{ errors }\">\r\n                            <label for=\"useremail\">Email</label>\r\n                            <input class=\"form-control\" v-model=\"form.user.email\" id=\"useremail\" placeholder=\"請輸入姓名\">\r\n                            <p class=\"text-danger\">{{ errors[0] }}</p>\r\n                        </div>\r\n                    </ValidationProvider>\r\n                    <ValidationProvider name=\"收件人姓名\" rules=\"required\">\r\n                        <div slot-scope=\"{ errors }\">\r\n                            <label for=\"username\">收件人姓名</label>\r\n                            <input class=\"form-control\" v-model=\"form.user.name\" id=\"username\" placeholder=\"請輸入姓名\">\r\n                            <p class=\"text-danger\">{{ errors[0] }}</p>\r\n                        </div>\r\n                    </ValidationProvider>\r\n                    <ValidationProvider name=\"收件人電話\" rules=\"required\">\r\n                        <div slot-scope=\"{ errors }\">\r\n                            <label for=\"usertel\">收件人電話</label>\r\n                            <input class=\"form-control\" v-model=\"form.user.tel\" id=\"usertel\" placeholder=\"請輸入電話\">\r\n                            <p class=\"text-danger\">{{ errors[0] }}</p>\r\n                        </div>\r\n                    </ValidationProvider>\r\n                    <ValidationProvider name=\"收件人地址\" rules=\"required\">\r\n                        <div slot-scope=\"{ errors }\">\r\n                            <label for=\"useraddress\">收件人地址</label>\r\n                            <input class=\"form-control\" v-model=\"form.user.address\" id=\"useraddress\" placeholder=\"請輸入地址\">\r\n                            <p class=\"text-danger\">{{ errors[0] }}</p>\r\n                        </div>\r\n                    </ValidationProvider>\r\n                    <!-- vee-validate -->\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"comment\">留言</label>\r\n                        <textarea name=\"\" id=\"comment\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"form.message\"></textarea>\r\n                    </div>\r\n                    <hr>\r\n\r\n                    <ValidationProvider name=\"付款方式\" rules=\"required\">\r\n                        <div slot-scope=\"{ errors }\">\r\n                            <div>付款方式</div>\r\n                            <div class=\"custom-control custom-radio custom-control-inline\">\r\n                                <input type=\"radio\" class=\"custom-control-input\" id=\"radio1\" v-model=\"form.user.payment_method\" value=\"刷卡\">\r\n                                <label class=\"custom-control-label align-middle\" for=\"radio1\">刷卡</label>\r\n                            </div>\r\n                            <div class=\"custom-control custom-radio custom-control-inline\">\r\n                                <input type=\"radio\" class=\"custom-control-input\" id=\"radio2\" v-model=\"form.user.payment_method\" value=\"超商取貨\">\r\n                                <label class=\"custom-control-label align-middle\" for=\"radio2\">超商取貨</label>\r\n                            </div>\r\n                            <div class=\"custom-control custom-radio custom-control-inline\">\r\n                                <input type=\"radio\" class=\"custom-control-input\" id=\"radio3\" v-model=\"form.user.payment_method\" value=\"貨到付款\">\r\n                                <label class=\"custom-control-label align-middle\" for=\"radio3\">貨到付款</label>\r\n                            </div>\r\n                            <p class=\"text-success\">您選擇的付款方式： {{form.user.payment_method}} </p>\r\n                            <p class=\"text-danger\">{{ errors[0] }}</p>\r\n                        </div>\r\n                    </ValidationProvider>\r\n\r\n                    <div class=\"text-right\">\r\n                        <button class=\"btn btn-danger\">\r\n                            <i class=\"fas fa-spinner fa-pulse\" v-if=\"status.loading == 'orderLoading'\"></i>\r\n                            送出訂單\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n                <!-- vee-validate -->\r\n                </ValidationObserver>\r\n                <!-- vee-validate -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport $ from 'jquery' // Import js file\r\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\r\n\r\n\r\nexport default {\r\n    components: {  \r\n        ValidationProvider, // ---vee-validate---\r\n        ValidationObserver  // ---vee-validate---\r\n    },\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            status: {\r\n                itemId: \"\",\r\n                cartId: \"\",\r\n                loading: \"\",\r\n            },\r\n            carts: {},\r\n            choseCouponStatus: true,\r\n            choseCouponNum: 5,\r\n            coupon: \"\",\r\n            coupon_is_enabled: \"\",\r\n            form: {\r\n                user: {\r\n                    name: \"\",\r\n                    email: \"\",\r\n                    tel: \"\",\r\n                    address: \"\",\r\n                    payment_method: \"\"\r\n                },\r\n                message: \"\",\r\n                cartArrayToLS: [],           \r\n            },\r\n            user: \r\n            {\r\n                username: \"joseph.work01@gmail.com\",\r\n                password: \"Jcw0122456\"\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        getCart() {\r\n            const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\r\n            const vm = this;\r\n            vm.isLoading = true;\r\n            this.$http.get(api).then((response) => {\r\n                console.log(\"getCart\", response.data.data);\r\n                vm.carts = response.data.data;\r\n                vm.isLoading = false;\r\n            });\r\n        },\r\n        removeCartItem(item) {\r\n            const id = item.id;\r\n            const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`;\r\n            const vm = this;\r\n            vm.status.itemId = item.id;\r\n            this.$http.delete(api).then((response) => {\r\n                console.log(response.data, item);\r\n                if(response.data.success) {\r\n                    vm.$bus.$emit('message:push', `${response.data.message} ${item.product.title} 商品`, 'success');\r\n                } else {\r\n                    vm.$bus.$emit('message:push', response.data.message, 'danger');\r\n                }\r\n                this.getCart();\r\n                vm.status.itemId = \"\";\r\n            });\r\n        },\r\n        removeAllCartItem() {   \r\n            const vm = this;\r\n            vm.isLoading = true;\r\n            vm.carts.carts.forEach( (element)=>{\r\n                let id = element.id;\r\n                let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`;\r\n                this.$http.delete(api).then((response) => {\r\n                    console.log(response.data);\r\n                    if(response.data.success) {\r\n                        console.log(\"Cart已全刪除\")\r\n                    } else {\r\n                        console.log(\"Cart全刪除失敗\")\r\n                    }\r\n                    vm.isLoading = false;\r\n                });    \r\n            });\r\n        },\r\n        addCouponCode() {\r\n            const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/coupon`;\r\n            const vm = this;\r\n            const coupon = {\r\n                code: vm.coupon\r\n            }\r\n            vm.status.loading = \"couponLoading\";\r\n            this.$http.post(api, { data: coupon }).then((response) => {\r\n                console.log(\"套用優惠券\", response.data);\r\n                if (!response.data.success) {\r\n                    vm.$bus.$emit('message:push', response.data.message, 'danger');\r\n                } else {\r\n                    vm.$bus.$emit('message:push', response.data.message, 'success');\r\n                }\r\n                this.getCart();\r\n                vm.status.loading = \"\";\r\n            });\r\n        },\r\n        async creatOrder() {\r\n            const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order`;\r\n            const vm = this;\r\n            const orderInfo = vm.form;\r\n            vm.status.loading = \"orderLoading\";\r\n            const isValid = await this.$refs.observer.validate();// ---vee-validate---\r\n            if (!isValid) {\r\n                vm.$bus.$emit('message:push', \"表單填寫不完整\", 'danger');\r\n                vm.status.loading = \"\";\r\n            } else {\r\n                //上傳訂單\r\n                vm.$http.post(api, { data: orderInfo }).then((response) => {\r\n                    console.log(\"訂單完成\", response);\r\n                    if (response.data.success) {\r\n                        vm.updateStock();//更新庫存數量\r\n                        // vm.$router.push(`/`);\r\n                        vm.$router.push(`/order-check/${response.data.orderId}`);\r\n                    } else {\r\n                        vm.$bus.$emit('message:push', response.data.message, 'danger');\r\n                    }\r\n                    // this.getCart();\r\n                    vm.status.loading = \"\";\r\n                }); \r\n            }   \r\n        },\r\n        updateStock() {\r\n            const vm = this;\r\n            let count = 0;\r\n            let newProduct = [];\r\n            const apilg = `${process.env.VUE_APP_APIPATH}/admin/signin`;\r\n            vm.isLoading = true;\r\n            //登入後台驗證\r\n            this.$http.post(apilg, vm.user).then((response) => {\r\n                console.log(response.data);\r\n                if (response.data.success) {\r\n                    console.log(\"登入成功\");    \r\n                    vm.carts.carts.forEach((element) => {\r\n                        let apiGet = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${element.product_id}`;\r\n                        //抓取該ID對應商品\r\n                        vm.$http.get(apiGet).then((response) => {\r\n                            if (response.data.success) {\r\n                                console.log(\"getProduct\", response.data,);\r\n                                //計算 庫存-已訂購\r\n                                newProduct = response.data.product;\r\n                                newProduct.stock = element.product.stock - element.qty;\r\n                                console.log(\"newProduct\", newProduct, \"stock\", newProduct.stock);                       \r\n                                let apiPut = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product/${element.product_id}`;\r\n                                //更新商品資訊(包含新庫存量)\r\n                                vm.$http.put(apiPut, { data: newProduct }).then((response) => {\r\n                                    console.log(\"putProduct\", response.data);\r\n                                    if (response.data.success) {\r\n                                        console.log(\"庫存量更新成功\");\r\n                                        vm.isLoading = false;\r\n                                    } else {\r\n                                        console.log(\"庫存量更新錯誤\");\r\n                                        vm.isLoading = false;\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                console.log(\"產品資料讀入錯誤\");\r\n                                vm.isLoading = false;\r\n                            }\r\n                        });\r\n                    });\r\n                } else {\r\n                    console.log(\"登入失敗\", response.data.error.message);\r\n                    vm.isLoading = false;\r\n                }\r\n            });\r\n        }\r\n    },\r\n    created() {\r\n        this.getCart();\r\n    },\r\n    beforeDestroy () {\r\n\r\n    },\r\n    beforeRouteLeave (to, from , next) {\r\n        if (this.carts.total == 0) {\r\n            next();\r\n        } else if (to.name === \"OrderCheck\") {\r\n            next();\r\n        } else {\r\n            const answer = confirm(`訂單尚未建立，\\n離開此頁面將遺失商品資訊！`)\r\n            if (answer) {\r\n                this.removeAllCartItem(); \r\n                next();\r\n            } else {\r\n                next(false);\r\n            }     \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=7922dbeb&scoped=true&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7922dbeb\",\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}